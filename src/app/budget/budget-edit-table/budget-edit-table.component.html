<div [formGroup]="budgetForm">
    <ng-container formArrayName="categories">
        <table>
            <tr>
                <th>Category</th>
                <th>Amount</th>
            </tr>
            <ng-container *ngFor="let categoryForm of categories.controls; let i = index">
                <div [formGroup]="categoryForm">
                    <mat-form-field appearance="fill">
                        <input matInput
                            formControlName="name"
                            placeholder="Category Name"
                        >
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <input matInput type="number" formControlName="amount" placeholder="0" (change)="amountChange()">
                    </mat-form-field>
                    <mat-icon class="delete-btn" (click)="deleteCategory(i)">delete_forever</mat-icon>
                </div>
            </ng-container>
            <tr>
                <td>Total</td>
                <td>${{total}}</td>
            </tr>
        </table>
    </ng-container>
</div>


<button mat-mini-fab (click)="addCategory()">
    <mat-icon class="add-course-btn">add</mat-icon>
</button>

<button
    type="submit"
    [title]="budgetForm.valid ? 'Update' : 'Form data invalid'"
    (click)="save()"
    [disabled]='!budgetForm.valid'>
    Save
</button>
